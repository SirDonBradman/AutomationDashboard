<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\BL\PDTHolder.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web;

namespace Aurigo.Brix.SignUP
{
    public class PDTHolder
    {
        public double GrossTotal { get; set; }
        public int InvoiceNumber { get; set; }
        public string PaymentStatus { get; set; }
        public string PayerFirstName { get; set; }
        public double PaymentFee { get; set; }
        public string BusinessEmail { get; set; }
        public string PayerEmail { get; set; }
        public string TxToken { get; set; }
        public string PayerLastName { get; set; }
        public string ReceiverEmail { get; set; }
        public string ItemName { get; set; }
        public string Currency { get; set; }
        public string TransactionId { get; set; }
        public string SubscriberId { get; set; }
        public string Custom { get; set; }

        public static PDTHolder Parse(string postData)
        {
            String sKey, sValue;
            PDTHolder ph = new PDTHolder();

            try
            {
                //split response into string array using whitespace delimeter
                String[] StringArray = postData.Split(&#39;\n&#39;);

                // NOTE:
                /*
                * loop is set to start at 1 rather than 0 because first
                string in array will be single word SUCCESS or FAIL
                Only used to verify post data
                */

                // use split to split array we already have using &quot;=&quot; as delimiter
                int i;
                for (i = 1; i &lt; StringArray.Length - 1; i++)
                {
                    String[] StringArray1 = StringArray[i].Split(&#39;=&#39;);

                    sKey = StringArray1[0];
                    sValue = HttpUtility.UrlDecode(StringArray1[1]);

                    // set string vars to hold variable names using a switch
                    switch (sKey)
                    {
                        case &quot;mc_gross&quot;:
                            ph.GrossTotal = Convert.ToDouble(sValue);
                            break;

                        case &quot;invoice&quot;:
                            ph.InvoiceNumber = Convert.ToInt32(sValue);
                            break;

                        case &quot;payment_status&quot;:
                            ph.PaymentStatus = Convert.ToString(sValue);
                            break;

                        case &quot;first_name&quot;:
                            ph.PayerFirstName = Convert.ToString(sValue);
                            break;

                        case &quot;mc_fee&quot;:
                            ph.PaymentFee = Convert.ToDouble(sValue);
                            break;

                        case &quot;business&quot;:
                            ph.BusinessEmail = Convert.ToString(sValue);
                            break;

                        case &quot;payer_email&quot;:
                            ph.PayerEmail = Convert.ToString(sValue);
                            break;

                        case &quot;Tx Token&quot;:
                            ph.TxToken = Convert.ToString(sValue);
                            break;

                        case &quot;last_name&quot;:
                            ph.PayerLastName = Convert.ToString(sValue);
                            break;

                        case &quot;receiver_email&quot;:
                            ph.ReceiverEmail = Convert.ToString(sValue);
                            break;

                        case &quot;item_name&quot;:
                            ph.ItemName = Convert.ToString(sValue);
                            break;

                        case &quot;mc_currency&quot;:
                            ph.Currency = Convert.ToString(sValue);
                            break;

                        case &quot;txn_id&quot;:
                            ph.TransactionId = Convert.ToString(sValue);
                            break;

                        case &quot;custom&quot;:
                            ph.Custom = Convert.ToString(sValue);
                            break;

                        case &quot;subscr_id&quot;:
                            ph.SubscriberId = Convert.ToString(sValue);
                            break;
                    }
                }

                return ph;
            }
            catch (Exception ex)
            {
                throw ex;
            }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[8,36,8,40,0],[8,41,8,45,0],[9,36,9,40,0],[9,41,9,45,0],[10,39,10,43,0],[10,44,10,48,0],[11,40,11,44,0],[11,45,11,49,0],[12,36,12,40,0],[12,41,12,45,0],[13,39,13,43,0],[13,44,13,48,0],[14,36,14,40,0],[14,41,14,45,0],[15,33,15,37,0],[15,38,15,42,0],[16,39,16,43,0],[16,44,16,48,0],[17,39,17,43,0],[17,44,17,48,0],[18,34,18,38,0],[18,39,18,43,0],[19,34,19,38,0],[19,39,19,43,0],[20,39,20,43,0],[20,44,20,48,0],[21,38,21,42,0],[21,43,21,47,0],[22,32,22,36,0],[22,37,22,41,0],[25,9,25,10,0],[27,13,27,44,0],[30,13,30,14,0],[32,17,32,61,0],[43,22,43,27,0],[43,29,43,55,0],[43,57,43,60,0],[44,17,44,18,0],[45,21,45,71,0],[47,21,47,44,0],[48,21,48,69,0],[51,21,51,34,0],[54,29,54,70,0],[55,29,55,35,0],[58,29,58,72,0],[59,29,59,35,0],[62,29,62,73,0],[63,29,63,35,0],[66,29,66,74,0],[67,29,67,35,0],[70,29,70,70,0],[71,29,71,35,0],[74,29,74,73,0],[75,29,75,35,0],[78,29,78,70,0],[79,29,79,35,0],[82,29,82,67,0],[83,29,83,35,0],[86,29,86,73,0],[87,29,87,35,0],[90,29,90,73,0],[91,29,91,35,0],[94,29,94,68,0],[95,29,95,35,0],[98,29,98,68,0],[99,29,99,35,0],[102,29,102,73,0],[103,29,103,35,0],[106,29,106,66,0],[107,29,107,35,0],[110,29,110,72,0],[111,29,111,35,0],[113,17,113,18,0],[115,17,115,27,0],[117,13,117,33,0],[118,13,118,14,0],[119,17,119,26,0],[121,9,121,10,0]]);
    </script>
  </body>
</html>