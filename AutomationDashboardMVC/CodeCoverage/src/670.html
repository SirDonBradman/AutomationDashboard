<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\ConcreteModels\Project\ProjectChecklistModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Web;
using Aurigo.AMP3.Common;
using Aurigo.AMP3.Core.AbstractModels;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.AMP3.ModuleManagementBL;

namespace Aurigo.AMP3.ProjectUI
{
    [Context(Name = &quot;PROJECT&quot;)]
    //[ContextElement(Name = &quot;Check List&quot;)]
    public class ProjectChecklistModel : ChecklistModel //, ContextElementCallBack
    {
        //Getting the permission list for the PROJECT module for enabling the
        //links in the main tool bar.
        public override List&lt;string&gt; CustomMainToolBar(ToolBar MainToolBar, HttpContext Context, HttpRequest Request)
        {
            int pid = 0;
            if (!string.IsNullOrEmpty(Request.QueryString[&quot;PID&quot;]))
                pid = int.Parse(Request.QueryString[&quot;PID&quot;]);
            return ModuleManager.Instance.GetPermissionByUserOrRole(Constants.MODID_PROJECT,
                UserDetail.GetCurrentUserDetail().UID,
                UserDetail.GetCurrentUserDetail().RID, pid);
        }

        public override int GetProjectIdFromInstanceId(int parentInstanceID)
        {
            int pid = 0;
            if (!string.IsNullOrEmpty(Request.QueryString[&quot;PID&quot;]))
                pid = int.Parse(Request.QueryString[&quot;PID&quot;]);

            return pid;
        }

        //#region ContextElementCallBack Members

        //public void DoCallBack(string Name, Dictionary&lt;string, string&gt; Parameters)
        //{
        //    switch (Name)
        //    {
        //        case &quot;Check List&quot;:
        //            HttpContext.Current.Response.Redirect(@&quot;~/Modules/PROJECT/ProjectInfo.aspx?PID=&quot; + 19, true);
        //            break;
        //    }
        //}

        //#endregion
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[18,9,18,10,0],[19,13,19,25,0],[20,13,20,67,0],[21,17,21,61,0],[22,13,24,61,0],[25,9,25,10,0],[28,9,28,10,0],[29,13,29,25,0],[30,13,30,67,0],[31,17,31,61,0],[33,13,33,24,0],[34,9,34,10,0]]);
    </script>
  </body>
</html>