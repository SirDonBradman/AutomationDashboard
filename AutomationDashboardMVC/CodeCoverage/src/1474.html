<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Aurigo.Workflow.Common\Ioc.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using StructureMap;

#pragma warning disable 1591

namespace Aurigo.Common
{
    public class Ioc
    {
        private static Ioc _instance;
        private bool isInitialized;
        private IContainer _container;

        public static Ioc Instance
        {
            get
            {
                if (_instance == null) _instance = new Ioc();
                return _instance;
            }
        }

        public IContainer Container
        {
            get { return _container; }
        }

        //It is a singleton
        private Ioc()
        {
            isInitialized = false;
        }

        public void Initialize(string xmlFilePath)
        {
            if (isInitialized) return;

            _container = new Container(obj =&gt; { obj.AddConfigurationFromXmlFile(xmlFilePath); });
            isInitialized = true;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,13,16,14,0],[17,17,17,39,0],[17,40,17,62,0],[18,17,18,34,0],[19,13,19,14,0],[24,17,24,18,0],[24,19,24,37,0],[24,38,24,39,0],[28,9,28,22,0],[29,9,29,10,0],[30,13,30,35,0],[31,9,31,10,0],[34,9,34,10,0],[35,13,35,31,0],[35,32,35,39,0],[37,13,37,47,0],[37,47,37,48,0],[37,48,37,49,0],[37,49,37,94,0],[37,94,37,95,0],[37,95,37,96,0],[37,96,37,98,0],[37,13,37,98,0],[38,13,38,34,0],[39,9,39,10,0]]);
    </script>
  </body>
</html>