<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\ConcreteModels\Library\StandardItemModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using Aurigo.AMP3.Common;
using Aurigo.AMP3.Core.AbstractModels;
using Aurigo.AMP3.ModuleManagementBL;
using Aurigo.Brix.Platform.CoreUtilities.Utility;

namespace Aurigo.AMP3.LibraryUI
{
    [ItemModelContext(Name = &quot;LIBRARY&quot;, ModuleId = &quot;LIBRARY&quot;)]
    public class StandardItemModel : ItemDetailModel
    {
        private List&lt;string&gt; _coreModuleComponent = null;

        public List&lt;string&gt; CoreModuleComponent
        {
            get
            {
                if (_coreModuleComponent == null)
                    _coreModuleComponent = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_CORE);
                return _coreModuleComponent;
            }
        }

        public override void SetUIDetails()
        {
            displayAlternate = displayMustBid = displayComplete = displayNonContractItem = displayItemPicker = displaySubItems = displayProfitMargin =
                        displayTaxAndOverhead = DisplayAmount = displayProjectedUnitPrice = checkedNonContractItem = ValidateActivityQty = DisplayQuantity = false;

            displayComponents = displayContainerSelector = displayActivity = displayActivityPicker = true;

            DisplayRateAnalysisSection = (CoreModuleComponent.IsNotNullAndHasItems() &amp;&amp; CoreModuleComponent.Contains(&quot;EnableResourceManagement&quot;)); ;

            header = &quot;Standard &quot; + AnItem;
        }

        public override int GetProjectIdFromItemInstanceId(string moduleId, int itemInstanceID, int parentInstanceID)
        {
            // since ModuleId = &quot;LIBRARY&quot; so return 0
            return 0;
        }

        public override string ValidateActivityBeforeSave(Core.BusinessLayer.DTO.Activity dtoActivity)
        {
            if (string.IsNullOrEmpty(dtoActivity.Name) || string.IsNullOrEmpty(dtoActivity.Description) ||
                string.IsNullOrEmpty(dtoActivity.Unit))
                return &quot;Name, Description, Unit are mandatory fields&quot;;
            return string.Empty;
        }

        public override string PageUniqueID
        {
            get { return &quot;LibStdItem&quot;; }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[12,9,12,58,1],[17,13,17,14,1],[18,17,18,50,1],[19,21,19,110,1],[20,17,20,45,1],[21,13,21,14,1],[25,9,25,10,1],[26,13,27,164,1],[29,13,29,107,1],[31,13,31,147,1],[31,148,31,149,1],[33,13,33,43,1],[34,9,34,10,1],[37,9,37,10,0],[39,13,39,22,0],[40,9,40,10,0],[43,9,43,10,0],[44,13,45,56,0],[46,17,46,71,0],[47,13,47,33,0],[48,9,48,10,0],[52,17,52,18,1],[52,19,52,39,1],[52,40,52,41,1]]);
    </script>
  </body>
</html>