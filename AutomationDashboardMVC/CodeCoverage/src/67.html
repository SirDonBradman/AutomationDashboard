<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Contract Manager\Business Layer\ConcreateModels\ContractManagementChecklistModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Web;
using Aurigo.AMP3.Common;
using Aurigo.AMP3.Core.AbstractModels;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.AMP3.ModuleManagementBL;
using Aurigo.Brix.Platform.CoreUtilities.Utility;

namespace Aurigo.AMP3.LandMangement.UI
{
    [Context(Name = &quot;CONTMGT&quot;)]
    public class ContractManagementCheckListModel : ChecklistModel
    {
        //Need not override CustomMenu() as the default definition
        //is required for this model.

        private int instanceID;

        private int PID
        {
            get
            {
                return Request.QueryString[&quot;PID&quot;].ToInt32_2();
            }
        }

        public override List&lt;string&gt; CustomMainToolBar(ToolBar MainToolBar, HttpContext Context, HttpRequest Request)
        {
            //if (Request[&quot;PID&quot;] != null &amp;&amp; BrixDatatypeHelper.ToInt32_2(Request[&quot;PID&quot;].ToString()) &gt; 0)
            //{
            return ModuleManager.Instance.GetPermissionByUserOrRole(Constants.MODID_CONTMGT, UserDetail.GetCurrentUserDetail().UID,
                                                              UserDetail.GetCurrentUserDetail().RID, PID);
            //}
            //return null;
        }

        public override int GetInstanceID()
        {
            instanceID = Request[&quot;ParentID&quot;].ToInt32_2();

            return instanceID;
        }

        public override int GetProjectIdFromInstanceId(int parentInstanceID)
        {
           return Aurigo.AMP3.ContractManager.BusinessLayer.BL.Instance.GetProjectIdOfContract(parentInstanceID);
        }

        public override string ModuleSpecificQueryString()
        {
            return (&quot;&amp;ParentID=&quot; + instanceID.ToString2());
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[23,13,23,14,0],[24,17,24,63,0],[25,13,25,14,0],[29,9,29,10,0],[32,13,33,107,0],[36,9,36,10,0],[39,9,39,10,0],[40,13,40,58,0],[42,13,42,31,0],[43,9,43,10,0],[46,9,46,10,0],[47,12,47,114,0],[48,9,48,10,0],[51,9,51,10,0],[52,13,52,60,0],[53,9,53,10,0]]);
    </script>
  </body>
</html>