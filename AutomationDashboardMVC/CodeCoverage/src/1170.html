<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\BL\Procurement Management\ProcurementAdvances.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Data;
using Aurigo.AMP3.DataAccess.Core;
using Aurigo.Brix.Platform.BusinessLayer.DataAccessHelper;
using Aurigo.Brix.Platform.BusinessLayer.DTO;
using Aurigo.Brix.Platform.CoreUtilities.Utility;
using Aurigo.Common.Utility;

namespace Aurigo.Brix.Platform.BusinessLayer.BL
{
    public class ProcurementAdvances : SingletonManagerBase&lt;ProcurementAdvances&gt;
    {
        private ProcurementAdvances()
        {
        }

        public dtoPROCMGTAdvance CreateUpdateAdvance(out Exception ex, out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            object AdvanceID, object AdvanceType, object AdvanceTypeInstanceID, object Date, object Amount)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvance dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTCUAdvance, dicOut, AdvanceID,
                    AdvanceType, AdvanceTypeInstanceID, Date, Amount);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvance();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvance CreateUpdateAdvance(out Exception ex, out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            dtoPROCMGTAdvance dto)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvance dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTCUAdvance, dicOut, dto.AdvanceID,
                    dto.AdvanceType, dto.AdvanceTypeInstanceID, dto.Date, dto.Amount);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvance();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvanceDetails CreateUpdateAdvanceDetails(out Exception ex, out DataSet ds,
            Dictionary&lt;string, object&gt; dicOut, object DetailID, object AdvanceID, object ItemID, object Amount,
            object RecoveryQty)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvanceDetails dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTCUAdvanceDetails, dicOut, DetailID,
                    AdvanceID, ItemID, Amount, RecoveryQty);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvanceDetails();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvanceDetails CreateUpdateAdvanceDetails(out Exception ex, out DataSet ds,
            Dictionary&lt;string, object&gt; dicOut, dtoPROCMGTAdvanceDetails dto)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvanceDetails dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTCUAdvanceDetails, dicOut,
                    dto.DetailID, dto.AdvanceID, dto.ItemID, dto.Amount, dto.RecoveryQty);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvanceDetails();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvance DeleteAdvance(out Exception ex, out DataSet ds, int id)
        {
            ex = null;
            ds = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            dtoPROCMGTAdvance dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTDeleteAdvance, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvance();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvanceDetails DeleteAdvanceDetails(out Exception ex, out DataSet ds, int id)
        {
            ex = null;
            ds = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            dtoPROCMGTAdvanceDetails dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTDeleteAdvanceDetails, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvanceDetails();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvance GetAdvance(out Exception ex, out DataSet ds, int id)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvance dt = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTGetAdvance, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvance();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }

        public dtoPROCMGTAdvanceDetails GetAdvanceDetails(out Exception ex, out DataSet ds, int id)
        {
            ex = null;
            ds = null;
            dtoPROCMGTAdvanceDetails dt = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSet(ProcurementSP.usp_PROCMGTGetAdvanceDetails, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dt = new dtoPROCMGTAdvanceDetails();
                dr.FillDTO(dt);
            }
            catch (Exception e)
            {
                ex = e;
            }
            return dt;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,38,0],[15,9,15,10,0],[16,9,16,10,0],[20,9,20,10,0],[21,13,21,23,0],[22,13,22,23,0],[23,13,23,41,0],[25,13,25,14,0],[26,17,27,71,0],[28,17,29,49,0],[29,50,29,62,0],[30,17,30,51,0],[31,17,31,46,0],[32,17,32,32,0],[33,13,33,14,0],[34,13,34,32,0],[35,13,35,14,0],[36,17,36,24,0],[37,13,37,14,0],[38,13,38,23,0],[39,9,39,10,0],[43,9,43,10,0],[44,13,44,23,0],[45,13,45,23,0],[46,13,46,41,0],[48,13,48,14,0],[49,17,50,87,0],[51,17,52,49,0],[52,50,52,62,0],[53,17,53,51,0],[54,17,54,46,0],[55,17,55,32,0],[56,13,56,14,0],[57,13,57,32,0],[58,13,58,14,0],[59,17,59,24,0],[60,13,60,14,0],[61,13,61,23,0],[62,9,62,10,0],[67,9,67,10,0],[68,13,68,23,0],[69,13,69,23,0],[70,13,70,48,0],[72,13,72,14,0],[73,17,74,61,0],[75,17,76,49,0],[76,50,76,62,0],[77,17,77,51,0],[78,17,78,53,0],[79,17,79,32,0],[80,13,80,14,0],[81,13,81,32,0],[82,13,82,14,0],[83,17,83,24,0],[84,13,84,14,0],[85,13,85,23,0],[86,9,86,10,0],[90,9,90,10,0],[91,13,91,23,0],[92,13,92,23,0],[93,13,93,48,0],[95,13,95,14,0],[96,17,97,91,0],[98,17,99,49,0],[99,50,99,62,0],[100,17,100,51,0],[101,17,101,53,0],[102,17,102,32,0],[103,13,103,14,0],[104,13,104,32,0],[105,13,105,14,0],[106,17,106,24,0],[107,13,107,14,0],[108,13,108,23,0],[109,9,109,10,0],[112,9,112,10,0],[113,13,113,23,0],[114,13,114,23,0],[115,13,115,82,0],[116,13,116,41,0],[118,13,118,14,0],[119,17,119,114,0],[120,17,121,49,0],[121,50,121,62,0],[122,17,122,51,0],[123,17,123,46,0],[124,17,124,32,0],[125,13,125,14,0],[126,13,126,32,0],[127,13,127,14,0],[128,17,128,24,0],[129,13,129,14,0],[130,13,130,23,0],[131,9,131,10,0],[134,9,134,10,0],[135,13,135,23,0],[136,13,136,23,0],[137,13,137,82,0],[138,13,138,48,0],[140,13,140,14,0],[141,17,141,121,0],[142,17,143,49,0],[143,50,143,62,0],[144,17,144,51,0],[145,17,145,53,0],[146,17,146,32,0],[147,13,147,14,0],[148,13,148,32,0],[149,13,149,14,0],[150,17,150,24,0],[151,13,151,14,0],[152,13,152,23,0],[153,9,153,10,0],[156,9,156,10,0],[157,13,157,23,0],[158,13,158,23,0],[159,13,159,41,0],[160,13,160,82,0],[162,13,162,14,0],[163,17,163,111,0],[164,17,165,49,0],[165,50,165,62,0],[166,17,166,51,0],[167,17,167,46,0],[168,17,168,32,0],[169,13,169,14,0],[170,13,170,32,0],[171,13,171,14,0],[172,17,172,24,0],[173,13,173,14,0],[174,13,174,23,0],[175,9,175,10,0],[178,9,178,10,0],[179,13,179,23,0],[180,13,180,23,0],[181,13,181,48,0],[182,13,182,82,0],[184,13,184,14,0],[185,17,185,118,0],[186,17,187,49,0],[187,50,187,62,0],[188,17,188,51,0],[189,17,189,53,0],[190,17,190,32,0],[191,13,191,14,0],[192,13,192,32,0],[193,13,193,14,0],[194,17,194,24,0],[195,13,195,14,0],[196,13,196,23,0],[197,9,197,10,0]]);
    </script>
  </body>
</html>