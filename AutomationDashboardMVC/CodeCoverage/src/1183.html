<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\BL\ProductManager.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Data;
using Aurigo.AMP3.DataAccess.Core;
using Aurigo.Brix.Platform.BusinessLayer.DataAccessHelper;
using Aurigo.Brix.Platform.CoreUtilities.Utility;

namespace Aurigo.Brix.Platform.BusinessLayer.BL
{
    public class ProductManager
    {
        public static dtoProductCatalog CreateUpdateProductCatalog(out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            object ID, object ProductName, object Category, object UnitPrice, object UnitDiscount, object UnitType)
        {
            ds = null;
            dtoProductCatalog dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_CUProductCatalog, dicOut, ID, ProductName, Category, UnitPrice, UnitDiscount,
                    UnitType);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoProductCatalog CreateUpdateProductCatalog(out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            dtoProductCatalog dto)
        {
            ds = null;
            dtoProductCatalog dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_CUProductCatalog, dicOut, dto.ID, dto.ProductName, dto.Category, dto.UnitPrice,
                    dto.UnitDiscount, dto.UnitType);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoPurchaseItem CreateUpdatePurchaseItems(out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            object ID, object PurchaseId, object ProductItem, object Quantity, object UnitCostAtBuy)
        {
            ds = null;
            dtoPurchaseItem dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_CUPurchaseItems, dicOut, ID, PurchaseId, ProductItem, Quantity, UnitCostAtBuy);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static int CreateUpdatePurchaseItems(dtoPurchaseItem dto)
        {
            try
            {
                Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
                ComponentHelper.Instance.ExecuteNonQueryWithVariableParametersOn(
                    ConnectionHelper.DefaultConnectionString(), StoredProcedure.usp_CUPurchaseItems, dicOut, dto.ID,
                    dto.PurchaseId, dto.ProductItem, dto.Quantity, dto.UnitCostAtBuy);
                return dicOut[&quot;newIDk&quot;].ToInt32_2();
            }
            catch 
            {
                return 0;
            }
        }

        public static dtoPurchaseMaster CreateUpdatePurchaseMaster(out DataSet ds, Dictionary&lt;string, object&gt; dicOut,
            object ID, object CompanyId, object OrderedBy, object OrderedOn, object PaymentTerm, object TotalAmount,
            object PaymentStatus, object PaymentReferenceNumber, object ProvisioningStatus, object DiscountCoupon,
            object DiscountAmount, object PaidAmount)
        {
            ds = null;
            dtoPurchaseMaster dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_CUPurchaseMaster, dicOut, ID, CompanyId, OrderedBy, OrderedOn, PaymentTerm,
                    TotalAmount, PaymentStatus, PaymentReferenceNumber, ProvisioningStatus, DiscountCoupon,
                    DiscountAmount, PaidAmount);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static int CreateUpdatePurchaseMaster(dtoPurchaseMaster dto)
        {
            try
            {
                Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
                ComponentHelper.Instance.ExecuteNonQueryWithVariableParametersOn(
                    ConnectionHelper.DefaultConnectionString(), StoredProcedure.usp_CUPurchaseMaster, dicOut, dto.ID,
                    dto.CompanyId, dto.OrderedBy, dto.OrderedOn, dto.PaymentTerm, dto.TotalAmount, dto.PaymentStatus,
                    dto.PaymentReferenceNumber, dto.ProvisioningStatus, dto.DiscountCoupon, dto.DiscountAmount,
                    dto.PaidAmount);
                return dicOut[&quot;newIDk&quot;].ToInt32_2();
            }
            catch 
            {
                return 0;
            }
        }

        public static dtoProductCatalog DeleteProductCatalog(out DataSet ds, int id)
        {
            ds = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            dtoProductCatalog dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_DProductCatalog, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoPurchaseItem DeletePurchaseItems(out DataSet ds, int id)
        {
            ds = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            dtoPurchaseItem dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_DPurchaseItems, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoPurchaseMaster DeletePurchaseMaster(out DataSet ds, int id)
        {
            ds = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            dtoPurchaseMaster dt = null;
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_DPurchaseMaster, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoProductCatalog GetProductCatalog(out DataSet ds, int id, string model)
        {
            ds = null;
            dtoProductCatalog dt = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_GetProductCatalog, dicOut, id, model);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoPurchaseItem GetPurchaseItems(out DataSet ds, int id)
        {
            ds = null;
            dtoPurchaseItem dt = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_GetPurchaseItems, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }

        public static dtoPurchaseMaster GetPurchaseMaster(out DataSet ds, int id)
        {
            ds = null;
            dtoPurchaseMaster dt = null;
            Dictionary&lt;string, object&gt; dicOut = new Dictionary&lt;string, object&gt;();
            try
            {
                ds = ComponentHelper.Instance.ExecuteDataSetOn(ConnectionHelper.DefaultConnectionString(),
                    StoredProcedure.usp_GetPurchaseMaster, dicOut, id);
                if (null == ds || null == ds.Tables || ds.Tables.Count &lt; 1 || null == ds.Tables[0].Rows ||
                    ds.Tables[0].Rows.Count &lt; 1) return null;
                DataRow dr = ds.Tables[0].Rows[0];
                dr.FillDTO(dt);
            }
            catch 
            {
            }
            return dt;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,10,0],[15,13,15,23,0],[16,13,16,41,0],[18,13,18,14,0],[19,17,21,31,0],[22,17,23,49,0],[23,50,23,62,0],[24,17,24,51,0],[25,17,25,32,0],[26,13,26,14,0],[27,13,27,18,0],[28,13,28,14,0],[29,13,29,14,0],[30,13,30,23,0],[31,9,31,10,0],[35,9,35,10,0],[36,13,36,23,0],[37,13,37,41,0],[39,13,39,14,0],[40,17,42,53,0],[43,17,44,49,0],[44,50,44,62,0],[45,17,45,51,0],[46,17,46,32,0],[47,13,47,14,0],[48,13,48,18,0],[49,13,49,14,0],[50,13,50,14,0],[51,13,51,23,0],[52,9,52,10,0],[56,9,56,10,0],[57,13,57,23,0],[58,13,58,39,0],[60,13,60,14,0],[61,17,62,120,0],[63,17,64,49,0],[64,50,64,62,0],[65,17,65,51,0],[66,17,66,32,0],[67,13,67,14,0],[68,13,68,18,0],[69,13,69,14,0],[70,13,70,14,0],[71,13,71,23,0],[72,9,72,10,0],[75,9,75,10,0],[77,13,77,14,0],[78,17,78,86,0],[79,17,81,87,0],[82,17,82,53,0],[84,13,84,18,0],[85,13,85,14,0],[86,17,86,26,0],[88,9,88,10,0],[94,9,94,10,0],[95,13,95,23,0],[96,13,96,41,0],[98,13,98,14,0],[99,17,102,49,0],[103,17,104,49,0],[104,50,104,62,0],[105,17,105,51,0],[106,17,106,32,0],[107,13,107,14,0],[108,13,108,18,0],[109,13,109,14,0],[110,13,110,14,0],[111,13,111,23,0],[112,9,112,10,0],[115,9,115,10,0],[117,13,117,14,0],[118,17,118,86,0],[119,17,123,37,0],[124,17,124,53,0],[126,13,126,18,0],[127,13,127,14,0],[128,17,128,26,0],[130,9,130,10,0],[133,9,133,10,0],[134,13,134,23,0],[135,13,135,82,0],[136,13,136,41,0],[138,13,138,14,0],[139,17,140,70,0],[141,17,142,49,0],[142,50,142,62,0],[143,17,143,51,0],[144,17,144,32,0],[145,13,145,14,0],[146,13,146,18,0],[147,13,147,14,0],[148,13,148,14,0],[149,13,149,23,0],[150,9,150,10,0],[153,9,153,10,0],[154,13,154,23,0],[155,13,155,82,0],[156,13,156,39,0],[158,13,158,14,0],[159,17,160,69,0],[161,17,162,49,0],[162,50,162,62,0],[163,17,163,51,0],[164,17,164,32,0],[165,13,165,14,0],[166,13,166,18,0],[167,13,167,14,0],[168,13,168,14,0],[169,13,169,23,0],[170,9,170,10,0],[173,9,173,10,0],[174,13,174,23,0],[175,13,175,82,0],[176,13,176,41,0],[178,13,178,14,0],[179,17,180,70,0],[181,17,182,49,0],[182,50,182,62,0],[183,17,183,51,0],[184,17,184,32,0],[185,13,185,14,0],[186,13,186,18,0],[187,13,187,14,0],[188,13,188,14,0],[189,13,189,23,0],[190,9,190,10,0],[193,9,193,10,0],[194,13,194,23,0],[195,13,195,41,0],[196,13,196,82,0],[198,13,198,14,0],[199,17,200,79,0],[201,17,202,49,0],[202,50,202,62,0],[203,17,203,51,0],[204,17,204,32,0],[205,13,205,14,0],[206,13,206,18,0],[207,13,207,14,0],[208,13,208,14,0],[209,13,209,23,0],[210,9,210,10,0],[213,9,213,10,0],[214,13,214,23,0],[215,13,215,39,0],[216,13,216,82,0],[218,13,218,14,0],[219,17,220,71,0],[221,17,222,49,0],[222,50,222,62,0],[223,17,223,51,0],[224,17,224,32,0],[225,13,225,14,0],[226,13,226,18,0],[227,13,227,14,0],[228,13,228,14,0],[229,13,229,23,0],[230,9,230,10,0],[233,9,233,10,0],[234,13,234,23,0],[235,13,235,41,0],[236,13,236,82,0],[238,13,238,14,0],[239,17,240,72,0],[241,17,242,49,0],[242,50,242,62,0],[243,17,243,51,0],[244,17,244,32,0],[245,13,245,14,0],[246,13,246,18,0],[247,13,247,14,0],[248,13,248,14,0],[249,13,249,23,0],[250,9,250,10,0]]);
    </script>
  </body>
</html>