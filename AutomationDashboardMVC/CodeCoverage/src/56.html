<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Contract Manager\Business Layer\ConcreateModels\ContractItemContextMenus.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Globalization;
using Aurigo.Brix.Platform.BusinessLayer.BL;
using Aurigo.AMP3.Common;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.AMP3.ContmgtUI;
using Aurigo.Brix.Core.WebUiHelper;
using Aurigo.AMP3.ModuleManagementBL;

namespace Aurigo.Brix.Construction.ContractManager.BusinessLayer.ConcreateModels
{
    [ContextElement(Name = &quot;Contract List&quot;)]
    public class ContractItemContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = GlobalizationUtility.SetResource(&quot;Item&quot;, false);
            if (item.Name == &quot;Item&quot; || item.Description == &quot;Item&quot;)
                item.Name = item.Description = &quot;Item List&quot;;    

            else
                item.Name = item.Description = &quot;BOQ List&quot;;

            item.GridParameters = &quot;ContractID&quot;;
            item.IconImage = &quot;IcnPage.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;BOQ List&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Common/BrixItemListPage.aspx?Context=CONTMGT&amp;PID={0}&amp;ParentID={1}&amp;New=1&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], Parameters[&quot;ContractID&quot;]), true);
                    break;

                case &quot;Item List&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Common/BrixItemListPage.aspx?Context=CONTMGT&amp;PID={0}&amp;ParentID={1}&amp;New=1&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], Parameters[&quot;ContractID&quot;]), true);
                    break;
            }
        }
        #endregion
    }

    [ContextElement(Name = &quot;Contract List&quot;)]
    public class ContractSettingsContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            List&lt;string&gt; components = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_CONTMGT);
            if (components.Contains(&quot;Settings&quot;))
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;Contract Settings&quot;;
                item.GridParameters = &quot;ContractID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Contract Settings&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Modules/CONTMGT/Settings.aspx?PID={0}&amp;ContractID={1}&amp;ParentID={1}&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], Parameters[&quot;ContractID&quot;]), true);
                    break;
            }
        }

        #endregion
    }

    //[ContextElement(Name = &quot;Contract Item List&quot;)]
    //public class ItemRAContextMenuImplementation : ContextElementCallBack
    //{
    //    #region ContextElementCallBack Members

    //    public List&lt;BrixContextMenu&gt; GetActionList()
    //    {
    //        var lst = new List&lt;BrixContextMenu&gt;();
    //        var item = new BrixContextMenu();
    //        item.Name = item.Description = &quot;Activities&quot;;
    //        item.GridParameters = &quot;ItemID&quot;;
    //        item.IconImage = &quot;IcnPage.gif&quot;;
    //        lst.Add(item);
    //        return lst;
    //    }

    //    public void DoCallBack(string Name, CIDictionary Parameters)
    //    {
    //        ContractItemListModel listmodel = new ContractItemListModel();
    //        switch (Name)
    //        {
    //            case &quot;Activities&quot;:
    //                HttpContext.Current.Response.Redirect(
    //                    string.Format(
    //                        @&quot;~/Common/BrixItemPage.aspx?Context=CONTMGT&amp;ItemID={0}&amp;Mode=2&amp;ParentID={1}&amp;PID={2}&quot;,
    //                        Parameters[&quot;ItemID&quot;], HttpContext.Current.Request[&quot;ParentID&quot;], HttpContext.Current.Request[&quot;PID&quot;]), true);
    //                break;
    //        }
    //    }

    //    #endregion
    //}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[21,9,21,10,1],[22,13,22,51,1],[23,13,23,46,1],[24,13,24,92,1],[25,13,25,67,1],[26,17,26,60,1],[29,17,29,59,0],[31,13,31,48,1],[32,13,32,44,1],[33,13,33,27,1],[34,13,34,24,1],[35,9,35,10,1],[38,9,38,10,0],[39,13,39,26,0],[42,21,45,98,0],[46,21,46,27,0],[49,21,52,98,0],[53,21,53,27,0],[55,9,55,10,0],[65,9,65,10,1],[66,13,66,51,1],[67,13,67,108,1],[68,13,68,49,1],[69,13,69,14,1],[70,17,70,50,1],[71,17,71,68,1],[72,17,72,52,1],[73,17,73,48,1],[74,17,74,31,1],[75,13,75,14,1],[76,13,76,24,1],[77,9,77,10,1],[80,9,80,10,0],[81,13,81,26,0],[84,21,87,98,0],[88,21,88,27,0],[90,9,90,10,0]]);
    </script>
  </body>
</html>