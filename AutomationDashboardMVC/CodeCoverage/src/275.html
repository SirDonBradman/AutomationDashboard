<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Addon Modules\Contract Manager\Quantity Planning\ConcreateModels\QuantityPlanningContextMenus.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using Aurigo.AMP3.Common;
using Aurigo.Brix.Platform.BusinessLayer.BL;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.AMP3.Resources.TerminologyResources;
using Aurigo.AMP3.ModuleManagementBL;

namespace Aurigo.Brix.Construction.ContractManager.QuantityPlanningUI.ConcreateModels
{
    [ContextElement(Name = &quot;Quantity Planning List&quot;)]
    public class QuantityPlanningEDPContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            List&lt;string&gt; CONTMGTcomponents = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_CONTMGT);
            if (CONTMGTcomponents.Contains(&quot;QPEquipmentDeploymentPlan&quot;))
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;Equipment Deployment Plan List&quot;;
                item.GridParameters = &quot;QPID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Equipment Deployment Plan List&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Common/BrixListpage.aspx?Context=QTYPEDP&amp;QPID={0}&amp;PID={1}&amp;ParentID={2}&amp;ContractID={2}&quot;,
                            Parameters[&quot;QPID&quot;], HttpContext.Current.Request[&quot;PID&quot;], HttpContext.Current.Request[&quot;ContractID&quot;]), true);
                    break;
            }
        }

        #endregion
    }

    [ContextElement(Name = &quot;Quantity Planning List&quot;)]
    public class QuantityPlanningLDPContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            List&lt;string&gt; CONTMGTcomponents = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_CONTMGT);
            if (CONTMGTcomponents.Contains(&quot;QPLabourDeploymentPlan&quot;))
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;Labour Deployment Plan List&quot;;
                item.GridParameters = &quot;QPID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Labour Deployment Plan List&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Common/BrixListpage.aspx?Context=QTYPLDP&amp;QPID={0}&amp;PID={1}&amp;ContractID={2}&amp;ParentID={2}&quot;,
                            Parameters[&quot;QPID&quot;], HttpContext.Current.Request[&quot;PID&quot;], HttpContext.Current.Request[&quot;ContractID&quot;]), true);
                    break;
            }
        }

        #endregion
    }

    [ContextElement(Name = &quot;Quantity Planning List&quot;)]
    public class QuantityPlanningBOQContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = LocalizationManager.GetString(KeyConstants.LOC_ITEM_ABBR) + &quot; Details&quot;;
            item.GridParameters = &quot;QPID&quot;;
            item.IconImage = &quot;IcnPage.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
           if(Name == LocalizationManager.GetString(KeyConstants.LOC_ITEM_ABBR) + &quot; Details&quot;)
           {
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Modules/QTYPLAN/QuantityPlanningMain.aspx?PID={0}&amp;ParentID={1}&amp;InstanceID={2}&amp;Mode=Edit&amp;Context=QTYPLAN&amp;ParentModuleID={3}&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], HttpContext.Current.Request[&quot;ContractID&quot;], Parameters[&quot;QPID&quot;], HttpContext.Current.Request[&quot;ParentModuleID&quot;]), true);
           }
        }

        #endregion
    }

    [ContextElement(Name = &quot;Quantity Planning List&quot;)]
    public class QuantityPlanningSCContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            List&lt;string&gt; QTYPLANcomponents = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_QTYPLAN);
            if (!QTYPLANcomponents.Contains(&quot;HideQPSubContractingDetailsLink&quot;))
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;SubContracting Details&quot;;
                item.GridParameters = &quot;QPID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;SubContracting Details&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Modules/QTYPLAN/SubContractingDetails.aspx?PID={0}&amp;ParentID={1}&amp;InstanceID={2}&amp;Mode=Edit&amp;Context=QTYPLAN&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], HttpContext.Current.Request[&quot;ContractID&quot;], Parameters[&quot;QPID&quot;]), true);
                    break;
            }
        }

        #endregion
    }

    [ContextElement(Name = &quot;Quantity Planning List&quot;)]
    public class QuantityPlanningINDCostContextMenuImplementation : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            List&lt;string&gt; QTYPLANcomponents = ModuleManager.Instance.GetModuleComponenets(Constants.MODID_QTYPLAN);
            if (!QTYPLANcomponents.Contains(&quot;HideQPIndirectCostDetailsLink&quot;))
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;Indirect Cost Details&quot;;
                item.GridParameters = &quot;QPID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Indirect Cost Details&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(
                            @&quot;~/Modules/QTYPLAN/IndirectCostDetails.aspx?PID={0}&amp;ParentID={1}&amp;InstanceID={2}&amp;Mode=Edit&amp;Context=QTYPLAN&quot;,
                            HttpContext.Current.Request[&quot;PID&quot;], HttpContext.Current.Request[&quot;ContractID&quot;], Parameters[&quot;QPID&quot;]), true);
                    break;
            }
        }

        #endregion
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[19,9,19,10,1],[20,13,20,51,1],[21,13,21,115,1],[22,13,22,73,1],[23,13,23,14,0],[24,17,24,50,0],[25,17,25,81,0],[26,17,26,46,0],[27,17,27,48,0],[28,17,28,31,0],[29,13,29,14,0],[30,13,30,24,1],[31,9,31,10,1],[34,9,34,10,0],[35,13,35,26,0],[38,21,41,135,0],[42,21,42,27,0],[44,9,44,10,0],[55,9,55,10,1],[56,13,56,51,1],[57,13,57,115,1],[58,13,58,70,1],[59,13,59,14,0],[60,17,60,50,0],[61,17,61,78,0],[62,17,62,46,0],[63,17,63,48,0],[64,17,64,31,0],[65,13,65,14,0],[66,13,66,24,1],[67,9,67,10,1],[70,9,70,10,0],[71,13,71,26,0],[74,21,77,135,0],[78,21,78,27,0],[80,9,80,10,0],[91,9,91,10,1],[92,13,92,51,1],[93,13,93,46,1],[94,13,94,115,1],[95,13,95,42,1],[96,13,96,44,1],[97,13,97,27,1],[98,13,98,24,1],[99,9,99,10,1],[102,9,102,10,0],[103,12,103,94,0],[104,12,104,13,0],[105,21,108,182,0],[109,12,109,13,0],[110,9,110,10,0],[121,9,121,10,1],[122,13,122,51,1],[123,13,123,115,1],[124,13,124,80,1],[125,13,125,14,0],[126,17,126,50,0],[127,17,127,73,0],[128,17,128,46,0],[129,17,129,48,0],[130,17,130,31,0],[131,13,131,14,0],[132,13,132,24,1],[133,9,133,10,1],[136,9,136,10,0],[137,13,137,26,0],[140,21,143,135,0],[144,21,144,27,0],[146,9,146,10,0],[157,9,157,10,1],[158,13,158,51,1],[159,13,159,115,1],[160,13,160,78,1],[161,13,161,14,0],[162,17,162,50,0],[163,17,163,72,0],[164,17,164,46,0],[165,17,165,48,0],[166,17,166,31,0],[167,13,167,14,0],[168,13,168,24,1],[169,9,169,10,1],[172,9,172,10,0],[173,13,173,26,0],[176,21,179,135,0],[180,21,180,27,0],[182,9,182,10,0]]);
    </script>
  </body>
</html>