<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Aurigo.Workflow.Common\TriggerPoint.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;

#pragma warning disable 1591

namespace Aurigo.Common
{
    [Serializable]
    public class TriggerPoint : ITriggerPoint
    {
        private static readonly string[] _Actions = new[] { &quot;Create&quot;, &quot;Update&quot;, &quot;Delete&quot; };
        private static readonly string[] _ActionNames = new[] { &quot;Create Of &quot;, &quot;Update Of &quot;, &quot;Delete Of &quot; };
        private string _ActionGuid;
        private string _DisplayName;
        private string _FormDisplayName;
        private string _FormInstanceId;
        private string _FormSchemaId;
        private string _Key;

        public TriggerPoint()
        {
        }

        public TriggerPoint(string sActionGuid, string sFormDislayName, string sFormSchemaId)
        {
            _ActionGuid = sActionGuid.ToLower();
            _FormSchemaId = sFormSchemaId.ToLower();
            _FormDisplayName = sFormDislayName;
            ConstructDisplayName();
        }

        public static string[] TriggerActions
        {
            get { return _Actions; }
        }

        public static string[] TriggerActionNames
        {
            get { return _ActionNames; }
        }

        #region ITriggerPoint Members

        public string Action
        {
            get { return _ActionGuid; }
            set
            {
                _ActionGuid = value.ToLower();
                ConstructDisplayName();
            }
        }

        public string FormSchemaId
        {
            get { return _FormSchemaId; }
            set { _FormSchemaId = value.ToLower(); }
        }

        public string FormDisplayName
        {
            get { return _FormDisplayName; }
            set
            {
                _FormDisplayName = value;
                ConstructDisplayName();
            }
        }

        public string DisplayName
        {
            get { return _DisplayName; }
        }

        public string Key
        {
            get { return _Key; }
        }

        public bool Match(ITriggerPoint t)
        {
            if (null == t) return false;
            return (_ActionGuid.ToLower() == t.Action.ToLower() &amp;&amp; _FormSchemaId.ToLower() == t.FormSchemaId.ToLower());
        }

        public string FormInstanceId
        {
            get { return _FormInstanceId; }
            set { _FormInstanceId = value; }
        }

        #endregion

        private void ConstructDisplayName()
        {
            _DisplayName = (_ActionGuid == _Actions[0])
                ? &quot;Create Of &quot;
                : (_ActionGuid == _Actions[1])
                    ? &quot;Update Of &quot;
                    : (_ActionGuid == _Actions[2]) ? &quot;Delete Of &quot; : &quot;New Action &quot;;
            //wTODOw:GetFrom Resource
            _DisplayName += _FormDisplayName;
            _Key = _ActionGuid + _FormSchemaId;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[10,9,10,92,1],[11,9,11,108,1],[19,9,19,30,1],[20,9,20,10,1],[21,9,21,10,1],[23,9,23,94,1],[24,9,24,10,1],[25,13,25,49,1],[26,13,26,53,1],[27,13,27,48,1],[28,13,28,36,1],[29,9,29,10,1],[33,17,33,18,1],[33,19,33,35,1],[33,36,33,37,1],[38,17,38,18,0],[38,19,38,39,0],[38,40,38,41,0],[45,17,45,18,1],[45,19,45,38,1],[45,39,45,40,1],[47,13,47,14,1],[48,17,48,47,1],[49,17,49,40,1],[50,13,50,14,1],[55,17,55,18,1],[55,19,55,40,1],[55,41,55,42,1],[56,17,56,18,1],[56,19,56,51,1],[56,52,56,53,1],[61,17,61,18,0],[61,19,61,43,0],[61,44,61,45,0],[63,13,63,14,1],[64,17,64,42,1],[65,17,65,40,1],[66,13,66,14,1],[71,17,71,18,0],[71,19,71,39,0],[71,40,71,41,0],[76,17,76,18,0],[76,19,76,31,0],[76,32,76,33,0],[80,9,80,10,0],[81,13,81,27,0],[81,28,81,41,0],[82,13,82,121,0],[83,9,83,10,0],[87,17,87,18,0],[87,19,87,42,0],[87,43,87,44,0],[88,17,88,18,1],[88,19,88,43,1],[88,44,88,45,1],[94,9,94,10,1],[95,13,99,83,1],[101,13,101,46,1],[102,13,102,48,1],[103,9,103,10,1]]);
    </script>
  </body>
</html>