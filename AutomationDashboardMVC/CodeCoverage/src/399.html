<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Estimator\BusinessLayer\ConcreateModels\Estimate\EstimateContextMenu.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using Aurigo.AMP3.Common;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.Brix.Platform.BusinessLayer.BL;
using Aurigo.AMP3.Resources.TerminologyResources;


namespace Aurigo.AMP3.Estimator.UI
{
    [ContextElement(Name = &quot;Project List&quot;)]
    public class ProjectEstimateContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            if (!AMP3ApplicationSettings.Instance.IsSingleProjectMode)
            {
                var item = new BrixContextMenu();
                item.Name = item.Description = &quot;Estimates List&quot;;
                item.GridParameters = &quot;ProjectID&quot;;
                item.IconImage = &quot;IcnPage.gif&quot;;
                lst.Add(item);
            }
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {           
            switch (Name)
            {
                case &quot;Estimates List&quot;:
                    HttpContext.Current.Response.Redirect(
                        @&quot;~/Common/BrixListPage.aspx?Context=ESTMATE&amp;nt=1&amp;PID=&quot; + Parameters[&quot;ProjectId&quot;], true);
                    break;
            }         
        }

        #endregion
    }

    [ContextElement(Name = &quot;Estmate List&quot;)]
    public class BidAnalysisandAwardContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = &quot;Bid Management&quot;;
            item.QueryStringParameters = &quot;PID&quot;;
            item.GridParameters = &quot;ProjectEstimateID&quot;;
            item.IconImage = &quot;IcnPage.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Bid Management&quot;:
                    HttpContext.Current.Response.Redirect(
                        string.Format(&quot;~/Common/BrixListPage.aspx?Context=ESTMBID&amp;PID={0}&amp;ProjectEstimateID={1}&quot;, Parameters[&quot;PID&quot;], Parameters[&quot;ProjectEstimateID&quot;]), true);
                    break;
            }
        }

        #endregion
    }

    [ContextElement(Name = &quot;Estmate List&quot;)]
    public class EstimateContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = &quot;Estimate &quot; + LocalizationManager.GetString(&quot;LOC_ITEM&quot;) + &quot; List&quot;;
            item.QueryStringParameters = &quot;PID&quot;;
            item.GridParameters = &quot;ProjectEstimateID&quot;;
            item.IconImage = &quot;IcnPage.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            if (Name.ToUpper() == (&quot;Estimate &quot; + LocalizationManager.GetString(&quot;LOC_ITEM&quot;) + &quot; List&quot;).ToUpper())
                HttpContext.Current.Response.Redirect(
                             @&quot;~/Common/BrixItemListPage.aspx?Context=ESTMATE&amp;PID=&quot; + Parameters[&quot;PID&quot;] + &quot;&amp;ParentID=&quot; + Parameters[&quot;ProjectEstimateID&quot;], true);           
        }

        #endregion
    }

    [ContextElement(Name = &quot;Estmate List&quot;)]
    public class BidTabulationDetailsContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = &quot;Bid Tabulation Details Report&quot;;
            item.QueryStringParameters = &quot;PID&quot;;
            item.GridParameters = &quot;ProjectEstimateID&quot;;
            item.IconImage = &quot;Icn_viewPDF.gif&quot;;
            lst.Add(item);
            return lst;
        }
        
        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Bid Tabulation Details Report&quot;:
                    HttpContext.Current.Response.Redirect(
                            @&quot;~/Common/BrixListReportPage.aspx?ModuleID=ESTMATE&amp;PID=&quot; + Parameters[&quot;PID&quot;] + &quot;&amp;ParentID=&quot; + Parameters[&quot;ProjectEstimateID&quot;] + &quot;&amp;ContractID=&quot; + Parameters[&quot;ProjectEstimateID&quot;] + &quot;&amp;Context=BIDDETL&amp;ParentContext=ESTMATE&amp;ParentModuleID=ESTMATE&amp;ModelType=Gallery&quot;, true);
                    break;
            }
        }

        #endregion
    }


    [ContextElement(Name = &quot;Estmate List&quot;)]
    public class EngineersEstimateContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = &quot;Engineers Estimate Report&quot;;
            item.QueryStringParameters = &quot;PID&quot;;
            item.GridParameters = &quot;ProjectEstimateID&quot;;
            item.IconImage = &quot;Icn_viewPDF.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Engineers Estimate Report&quot;:
                    HttpContext.Current.Response.Redirect(                       
                        @&quot;~/Common/BrixListReportPage.aspx?ModuleID=ESTMATE&amp;PID=&quot; + Parameters[&quot;PID&quot;] + &quot;&amp;ParentID=&quot; + Parameters[&quot;ProjectEstimateID&quot;] + &quot;&amp;ContractID=&quot; + Parameters[&quot;ProjectEstimateID&quot;] + &quot;&amp;Context=ENGESTM&amp;ParentContext=ESTMATE&amp;ParentModuleID=ESTMATE&amp;ModelType=Gallery&quot;, true);
                    break;
            }
        }

        #endregion
    }


    [ContextElement(Name = &quot;Estmate List&quot;)]
    public class EstimateReportGalleryContextMenu : ContextElementCallBack
    {
        #region ContextElementCallBack Members

        public List&lt;BrixContextMenu&gt; GetActionList()
        {
            var lst = new List&lt;BrixContextMenu&gt;();
            var item = new BrixContextMenu();
            item.Name = item.Description = &quot;Report Gallery&quot;;
            item.QueryStringParameters = &quot;PID&quot;;
            item.GridParameters = &quot;ProjectEstimateID&quot;;
            item.IconImage = &quot;Icn_viewPDF.gif&quot;;
            lst.Add(item);
            return lst;
        }

        public void DoCallBack(string Name, CIDictionary Parameters)
        {
            switch (Name)
            {
                case &quot;Report Gallery&quot;:
                    HttpContext.Current.Response.Redirect(
                        @&quot;~/Common/BrixReportGallery.aspx?Context=ESTMATE&amp;PID=&quot; + Parameters[&quot;PID&quot;] + &quot;&amp;ParentID=&quot; + Parameters[&quot;ProjectEstimateID&quot;], true);
                    break;
            }
        }

        #endregion
    } 


}
    </pre>
    <script type="text/javascript">
      highlightRanges([[19,9,19,10,1],[20,13,20,51,1],[21,13,21,71,1],[22,13,22,14,0],[23,17,23,50,0],[24,17,24,65,0],[25,17,25,51,0],[26,17,26,48,0],[27,17,27,31,0],[28,13,28,14,0],[29,13,29,24,1],[30,9,30,10,1],[33,9,33,10,0],[34,13,34,26,0],[37,21,38,114,0],[39,21,39,27,0],[41,9,41,10,0],[52,9,52,10,1],[53,13,53,51,1],[54,13,54,46,1],[55,13,55,61,1],[56,13,56,48,1],[57,13,57,55,1],[58,13,58,44,1],[59,13,59,27,1],[60,13,60,24,1],[61,9,61,10,1],[64,9,64,10,0],[65,13,65,26,0],[68,21,69,174,0],[70,21,70,27,0],[72,9,72,10,0],[83,9,83,10,1],[84,13,84,51,1],[85,13,85,46,1],[86,13,86,110,1],[87,13,87,48,1],[88,13,88,55,1],[89,13,89,44,1],[90,13,90,27,1],[91,13,91,24,1],[92,9,92,10,1],[95,9,95,10,0],[96,13,96,113,0],[97,17,98,161,0],[99,9,99,10,0],[110,9,110,10,1],[111,13,111,51,1],[112,13,112,46,1],[113,13,113,76,1],[114,13,114,48,1],[115,13,115,55,1],[116,13,116,48,1],[117,13,117,27,1],[118,13,118,24,1],[119,9,119,10,1],[122,9,122,10,0],[123,13,123,26,0],[126,21,127,298,0],[128,21,128,27,0],[130,9,130,10,0],[142,9,142,10,1],[143,13,143,51,1],[144,13,144,46,1],[145,13,145,72,1],[146,13,146,48,1],[147,13,147,55,1],[148,13,148,48,1],[149,13,149,27,1],[150,13,150,24,1],[151,9,151,10,1],[154,9,154,10,0],[155,13,155,26,0],[158,21,159,294,0],[160,21,160,27,0],[162,9,162,10,0],[174,9,174,10,1],[175,13,175,51,1],[176,13,176,46,1],[177,13,177,61,1],[178,13,178,48,1],[179,13,179,55,1],[180,13,180,48,1],[181,13,181,27,1],[182,13,182,24,1],[183,9,183,10,1],[186,9,186,10,0],[187,13,187,26,0],[190,21,191,157,0],[192,21,192,27,0],[194,9,194,10,0]]);
    </script>
  </body>
</html>