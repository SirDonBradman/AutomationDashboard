<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Addon Modules\Contract Manager\Pay Estimates\BL\RETNRLSBL.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Data;
using Aurigo.AMP3.RETNRLSComponent;
using Aurigo.AMP3.RETNRLSDTO;
using System.Collections.Generic;
using Aurigo.AMP3.DataAccess.Core;

namespace Aurigo.AMP3.RETNRLSManager
{
    public class RETNRLSBL
    {
        #region Retention Release

        private static volatile Dictionary&lt;string, RETNRLSBL&gt; _Inst = null;
        private static readonly object _oSync = new object();
        public static RETNRLSBL Instance
        {
            get
            {
                lock (_oSync)
                {
                    if (_Inst == null) _Inst = new Dictionary&lt;string, RETNRLSBL&gt;();
                    string currentCompany = ConnectionHelper.GetCurrentCompany();
                    if (!_Inst.ContainsKey(currentCompany))
                        if (!_Inst.ContainsKey(currentCompany))
                            _Inst.Add(currentCompany, new RETNRLSBL());

                    return _Inst[currentCompany];
                }
            }
        }

        private RETNRLSBL()
        {
        }

        internal DataSet GetRetentionRelease(int ContractID, int workOrderID, int instanceID)
        {
            return RETNRLSDAC.Instance.GetRetentionRelease(ContractID, workOrderID, instanceID);
        }

        internal int SaveRetentionRelease(RetentionRelease retentionRelease)
        {
            return RETNRLSDAC.Instance.SaveRetentionRelease(retentionRelease);
        }

        public DataTable GetPEsForWO(int contractID, object startRowIdx, object maxRows, string sortOrder,
                                     string filterSearch, string export, int? workOrderId)
        {
            return RETNRLSDAC.Instance.GetPEsForWO(contractID, startRowIdx, maxRows, sortOrder, filterSearch, export,
                                                   workOrderId);
        }

        #endregion
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,76,0],[14,9,14,62,0],[18,13,18,14,0],[19,17,19,30,0],[20,17,20,18,0],[21,21,21,39,0],[21,40,21,84,0],[22,21,22,82,0],[23,21,23,60,0],[24,25,24,64,0],[25,29,25,72,0],[27,21,27,50,0],[29,13,29,14,0],[32,9,32,28,0],[33,9,33,10,0],[34,9,34,10,0],[37,9,37,10,0],[38,13,38,97,0],[39,9,39,10,0],[42,9,42,10,0],[43,13,43,79,0],[44,9,44,10,0],[48,9,48,10,0],[49,13,50,65,0],[51,9,51,10,0]]);
    </script>
  </body>
</html>