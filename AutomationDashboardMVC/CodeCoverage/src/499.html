<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Fund Management\ConcreateModels\ProjectFundTransactionXMLManager.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using Aurigo.Brix.Platform.BusinessLayer.AbstractModels;
using Aurigo.AMP3.Core.AbstractModels;
using System.Web.UI;
using System.Web.UI.WebControls;
using Aurigo.Brix.Platform.BusinessLayer.XMLForm;
using Aurigo.Brix.Platform.CoreUtilities.Utility;
using Aurigo.Brix.Platform.UI;

namespace Aurigo.Brix.Construction.FundManagement.ConcreateModels
{
   
    public class ProjectFundTransactionXMLManager : XMLFormManagerModel
    {
        public override void OnInit(BrixFormModel model, XmlFormArgs e)
        {
            base.OnInit(model, e);
            xControl xcAmount = model.form.GetControl(&quot;Amount&quot;);
            xControl xcGlobalRemainingAmount = model.form.GetControl(&quot;GlobalRemainingAmt&quot;);
            xControl xcProjectRemainingAmount = model.form.GetControl(&quot;RemainingAmt&quot;);
            xControl xcTransactionType = model.form.GetControl(&quot;TransactionType&quot;);
            if (xcAmount.ControlReference.Count &gt; 0)
            {
                (model.form.page as BrixForm).XMLClientValidation = &quot;ValidateAmount(&#39;&quot; + (xcAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcGlobalRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcProjectRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcTransactionType.ControlReference[0] as RadioButtonList).ClientID + &quot;&#39;)&quot;;
            }
           

        }
        public override void OnPageLoad(BrixFormModel model, XmlFormArgs e)
        {
            base.OnPageLoad(model, e);
            model.form.page.ClientScript.RegisterClientScriptInclude(&quot;ProjectFundValidate&quot;, VirtualPathUtility.ToAbsolute(&quot;~/Modules/FNDMGMT/Scripts/ValidateTransactionAmt_20140115_1155.js&quot;));

        }
        public override void AfterCustomizeToolbar(BrixFormModel model, AMP3.Core.UserControls.ToolBar MainToolBar, XmlFormArgs e)
        {
            base.AfterCustomizeToolbar(model, MainToolBar, e);

            Aurigo.AMP3.Core.UserControls.Menu lnkSave = MainToolBar.GetMenuReference(&quot;lnkSave&quot;);

            if (lnkSave != null)
            {
                xControl xcAmount = model.form.GetControl(&quot;Amount&quot;);
                xControl xcGlobalRemainingAmount = model.form.GetControl(&quot;GlobalRemainingAmt&quot;);
                xControl xcProjectRemainingAmount = model.form.GetControl(&quot;RemainingAmt&quot;);
                xControl xcTransactionType = model.form.GetControl(&quot;TransactionType&quot;);

                lnkSave.OnClientClick = &quot;return ValidateAmount(&#39;&quot; + (xcAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcGlobalRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcProjectRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcTransactionType.ControlReference[0] as RadioButtonList).ClientID + &quot;&#39;)&quot;;
            }
        }
             
    }
    public class GlobalFundTransactionXMLManager : XMLFormManagerModel
    {
        public override void OnInit(BrixFormModel model, XmlFormArgs e)
        {
            base.OnInit(model, e);
            xControl xcAmount = model.form.GetControl(&quot;Amount&quot;);
            xControl xcGlobalRemainingAmount = model.form.GetControl(&quot;GlobalRemainingAmt&quot;);
            xControl xcTransactionType = model.form.GetControl(&quot;TransactionType&quot;);
            if (xcAmount.ControlReference.Count&gt;0)
            {
                (model.form.page as BrixForm).XMLClientValidation = &quot;ValidateGlobalAmount(&#39;&quot; + (xcAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcGlobalRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcTransactionType.ControlReference[0] as RadioButtonList).ClientID + &quot;&#39;)&quot;;
            }
            

        }
        public override void OnPageLoad(BrixFormModel model, XmlFormArgs e)
        {
            base.OnPageLoad(model, e);
            model.form.page.ClientScript.RegisterClientScriptInclude(&quot;GlobalFundValidate&quot;, VirtualPathUtility.ToAbsolute(&quot;~/Modules/FNDMGMT/Scripts/ValidateTransactionAmt_20140115_1155.js&quot;));

        }
        public override void AfterCustomizeToolbar(BrixFormModel model, AMP3.Core.UserControls.ToolBar MainToolBar, XmlFormArgs e)
        {
            base.AfterCustomizeToolbar(model, MainToolBar, e);

            Aurigo.AMP3.Core.UserControls.Menu lnkSave = MainToolBar.GetMenuReference(&quot;lnkSave&quot;);

            if (lnkSave != null)
            {
                xControl xcAmount = model.form.GetControl(&quot;Amount&quot;);
                xControl xcGlobalRemainingAmount = model.form.GetControl(&quot;GlobalRemainingAmt&quot;);
                xControl xcTransactionType = model.form.GetControl(&quot;TransactionType&quot;);

                lnkSave.OnClientClick = &quot;return ValidateGlobalAmount(&#39;&quot; + (xcAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcGlobalRemainingAmount.ControlReference[0] as Infragistics.WebUI.WebDataInput.WebNumericEdit).ClientID + &quot;&#39;,&#39;&quot; + (xcTransactionType.ControlReference[0] as RadioButtonList).ClientID + &quot;&#39;)&quot;;
            }
        }

    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[19,9,19,10,1],[20,13,20,35,1],[21,13,21,65,1],[22,13,22,92,1],[23,13,23,87,1],[24,13,24,83,1],[25,13,25,53,1],[26,13,26,14,1],[27,17,27,496,1],[28,13,28,14,1],[31,9,31,10,1],[33,9,33,10,1],[34,13,34,39,1],[35,13,35,193,1],[37,9,37,10,1],[39,9,39,10,1],[40,13,40,63,1],[42,13,42,98,1],[44,13,44,33,1],[45,13,45,14,1],[46,17,46,69,1],[47,17,47,96,1],[48,17,48,91,1],[49,17,49,87,1],[51,17,51,475,1],[52,13,52,14,1],[53,9,53,10,1],[59,9,59,10,1],[60,13,60,35,1],[61,13,61,65,1],[62,13,62,92,1],[63,13,63,83,1],[64,13,64,51,1],[65,13,65,14,1],[66,17,66,386,1],[67,13,67,14,1],[70,9,70,10,1],[72,9,72,10,1],[73,13,73,39,1],[74,13,74,192,1],[76,9,76,10,1],[78,9,78,10,1],[79,13,79,63,1],[81,13,81,98,1],[83,13,83,33,1],[84,13,84,14,1],[85,17,85,69,1],[86,17,86,96,1],[87,17,87,87,1],[89,17,89,365,1],[90,13,90,14,1],[91,9,91,10,1]]);
    </script>
  </body>
</html>