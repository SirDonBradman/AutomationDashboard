<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Contract Manager\Business Layer\BL\ContractManagerDb.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.ComponentModel;
using System.Configuration;
using System.Data.Linq;
using System.Data.Linq.Mapping;
using Aurigo.AMP3.Core.BusinessLayer.DTO;
using Microsoft.Practices.EnterpriseLibrary.Data.Configuration;
using Aurigo.AMP3.DataAccess.Core;

namespace Aurigo.Brix.Construction.ContractManager.BusinessLayer.BL
{
    [Database(Name = &quot;ContractManagerDB&quot;)]
    public class ContractManagerDb : DataContext
    {
        private static readonly MappingSource mappingSource = new AttributeMappingSource();

        public static ContractManagerDb Db =
            new ContractManagerDb(
                ConnectionHelper.GetConnectionString());

        public ContractManagerDb(string connectionString)
            : base(connectionString, mappingSource)
        {
        }

        internal ContractManagerDb()
            : base(ConnectionHelper.GetConnectionString(), mappingSource)
        {
        }

        public Table&lt;PurchaseIndent&gt; PurchaseIndent
        {
            get { return GetTable&lt;PurchaseIndent&gt;(); }
        }

        public Table&lt;PurchaseIndentQuantities&gt; PurchaseIndentQuantities
        {
            get { return GetTable&lt;PurchaseIndentQuantities&gt;(); }
        }

        public Table&lt;ForecastMain&gt; ForecastMain
        {
            get { return GetTable&lt;ForecastMain&gt;(); }
        }

        public Table&lt;ForecastResources&gt; ForecastResources
        {
            get { return GetTable&lt;ForecastResources&gt;(); }
        }

        public Table&lt;Item&gt; Item
        {
            get { return GetTable&lt;Item&gt;(); }
        }

        public Table&lt;Resource&gt; Resource
        {
            get { return GetTable&lt;Resource&gt;(); }
        }

        public Table&lt;ForecastItems&gt; ForecastItems
        {
            get { return GetTable&lt;ForecastItems&gt;(); }
        }
    }

    [Table(Name = &quot;dbo.PURCINDMain&quot;)]
    public class PurchaseIndent : INotifyPropertyChanging, INotifyPropertyChanged
    {
        private static readonly PropertyChangingEventArgs emptyChangingEventArgs =
            new PropertyChangingEventArgs(String.Empty);

        [Column(Name = &quot;PurchaseIndentID&quot;, DbType = &quot;int&quot;, CanBeNull = false)]
        public int PurchaseIndentID { get; set; }

        [Column(Name = &quot;ContractID&quot;, DbType = &quot;int&quot;, CanBeNull = false)]
        public int ContractID { get; set; }

        [Column(Name = &quot;ItemID&quot;, DbType = &quot;int&quot;, CanBeNull = true)]
        public int ItemID { get; set; }

        [Column(Name = &quot;RequiredDate&quot;, DbType = &quot;datetime&quot;, CanBeNull = true)]
        public DateTime RequiredDate { get; set; }

        #region INotifyPropertyChanged Members

        public event PropertyChangedEventHandler PropertyChanged;

        #endregion

        #region INotifyPropertyChanging Members

        public event PropertyChangingEventHandler PropertyChanging;

        #endregion

        protected internal virtual void SendPropertyChanging()
        {
            if ((PropertyChanging != null))
            {
                PropertyChanging(this, emptyChangingEventArgs);
            }
        }

        protected internal virtual void SendPropertyChanged(String propertyName)
        {
            if ((PropertyChanged != null))
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }

    [Table(Name = &quot;dbo.PURCINDQuantities&quot;)]
    public class PurchaseIndentQuantities : INotifyPropertyChanging, INotifyPropertyChanged
    {
        private static readonly PropertyChangingEventArgs emptyChangingEventArgs =
            new PropertyChangingEventArgs(String.Empty);

        [Column(Name = &quot;Quantity&quot;, DbType = &quot;decimal(18,4)&quot;, CanBeNull = true)]
        public decimal? ApprovedQuantity { get; set; }

        [Column(Name = &quot;ResourceDetailID&quot;, DbType = &quot;int&quot;, CanBeNull = true)]
        public int ResourceDetailID { get; set; }

        #region INotifyPropertyChanged Members

        public event PropertyChangedEventHandler PropertyChanged;

        #endregion

        #region INotifyPropertyChanging Members

        public event PropertyChangingEventHandler PropertyChanging;

        #endregion

        protected internal virtual void SendPropertyChanging()
        {
            if ((PropertyChanging != null))
            {
                PropertyChanging(this, emptyChangingEventArgs);
            }
        }

        protected internal virtual void SendPropertyChanged(String propertyName)
        {
            if ((PropertyChanged != null))
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }

    [Table(Name = &quot;dbo.AXFRCSTMain&quot;)]
    public class ForecastMain : INotifyPropertyChanging, INotifyPropertyChanged
    {
        private static readonly PropertyChangingEventArgs emptyChangingEventArgs =
            new PropertyChangingEventArgs(String.Empty);

        [Column(Name = &quot;ForecastID&quot;, DbType = &quot;int&quot;)]
        public int ForecastID { get; set; }

        [Column(Name = &quot;ParentID&quot;, DbType = &quot;int&quot;)]
        public int ParentID { get; set; }

        [Column(Name = &quot;ProjectID&quot;, DbType = &quot;int&quot;)]
        public int ProjectID { get; set; }

        [Column(Name = &quot;StartDate&quot;, DbType = &quot;datetime&quot;)]
        public DateTime StartDate { get; set; }

        [Column(Name = &quot;EndDate&quot;, DbType = &quot;datetime&quot;)]
        public DateTime EndDate { get; set; }

        [Column(Name = &quot;ModelID&quot;, DbType = &quot;varchar(50)&quot;)]
        public string ModelID { get; set; }

        [Column(Name = &quot;ForecastModel&quot;, DbType = &quot;varchar(500)&quot;)]
        public string ForecastModel { get; set; }

        [Column(Name = &quot;CreatedDate&quot;, DbType = &quot;datetime&quot;)]
        public DateTime CreatedDate { get; set; }

        [Column(Name = &quot;ApprovedDate&quot;, DbType = &quot;datetime&quot;)]
        public DateTime ApprovedDate { get; set; }

        [Column(Name = &quot;IsApproved&quot;, DbType = &quot;bit&quot;)]
        public bool IsApproved { get; set; }

        #region INotifyPropertyChanged Members

        public event PropertyChangedEventHandler PropertyChanged;

        #endregion

        #region INotifyPropertyChanging Members

        public event PropertyChangingEventHandler PropertyChanging;

        #endregion

        protected internal virtual void SendPropertyChanging()
        {
            if ((PropertyChanging != null))
            {
                PropertyChanging(this, emptyChangingEventArgs);
            }
        }

        protected internal virtual void SendPropertyChanged(String propertyName)
        {
            if ((PropertyChanged != null))
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }

    [Table(Name = &quot;dbo.AXFRCSTResourceDetails&quot;)]
    public class ForecastResources : INotifyPropertyChanging, INotifyPropertyChanged
    {
        private static readonly PropertyChangingEventArgs emptyChangingEventArgs =
            new PropertyChangingEventArgs(String.Empty);

        [Column(Name = &quot;ID&quot;, DbType = &quot;int&quot;)]
        public int ID { get; set; }

        [Column(Name = &quot;ForecastID&quot;, DbType = &quot;int&quot;)]
        public int ForecastID { get; set; }

        [Column(Name = &quot;ResItemID&quot;, DbType = &quot;varchar(50)&quot;)]
        public string ResItemID { get; set; }

        [Column(Name = &quot;ResourceTypeName&quot;, DbType = &quot;varchar(50)&quot;)]
        public string ResourceTypeName { get; set; }

        [Column(Name = &quot;Description&quot;, DbType = &quot;varchar(8000)&quot;)]
        public string Description { get; set; }

        [Column(Name = &quot;Unit&quot;, DbType = &quot;varchar(50)&quot;)]
        public string Unit { get; set; }

        [Column(Name = &quot;Quantity&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal Quantity { get; set; }

        [Column(Name = &quot;Rate&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal Rate { get; set; }

        [Column(Name = &quot;Cost&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal Cost { get; set; }

        #region INotifyPropertyChanged Members

        public event PropertyChangedEventHandler PropertyChanged;

        #endregion

        #region INotifyPropertyChanging Members

        public event PropertyChangingEventHandler PropertyChanging;

        #endregion

        protected internal virtual void SendPropertyChanging()
        {
            if ((PropertyChanging != null))
            {
                PropertyChanging(this, emptyChangingEventArgs);
            }
        }

        protected internal virtual void SendPropertyChanged(String propertyName)
        {
            if ((PropertyChanged != null))
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }

    [Table(Name = &quot;dbo.AXFRCSTItemDetails&quot;)]
    public class ForecastItems : INotifyPropertyChanging, INotifyPropertyChanged
    {
        private static readonly PropertyChangingEventArgs emptyChangingEventArgs =
            new PropertyChangingEventArgs(String.Empty);

        [Column(Name = &quot;ID&quot;, DbType = &quot;int&quot;)]
        public int ID { get; set; }

        [Column(Name = &quot;ForecastID&quot;, DbType = &quot;int&quot;)]
        public int ForecastID { get; set; }

        [Column(Name = &quot;ItemID&quot;, DbType = &quot;int&quot;)]
        public int ItemID { get; set; }

        [Column(Name = &quot;Quantity&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal Quantity { get; set; }

        [Column(Name = &quot;UnitPrice&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal UnitPrice { get; set; }

        [Column(Name = &quot;Amount&quot;, DbType = &quot;decimal(18,4)&quot;)]
        public decimal Amount { get; set; }

        #region INotifyPropertyChanged Members

        public event PropertyChangedEventHandler PropertyChanged;

        #endregion

        #region INotifyPropertyChanging Members

        public event PropertyChangingEventHandler PropertyChanging;

        #endregion

        protected internal virtual void SendPropertyChanging()
        {
            if ((PropertyChanging != null))
            {
                PropertyChanging(this, emptyChangingEventArgs);
            }
        }

        protected internal virtual void SendPropertyChanged(String propertyName)
        {
            if ((PropertyChanged != null))
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[15,9,15,92,0],[17,9,19,57,0],[22,15,22,52,0],[23,9,23,10,0],[24,9,24,10,0],[27,15,27,74,0],[28,9,28,10,0],[29,9,29,10,0],[33,17,33,18,0],[33,19,33,53,0],[33,54,33,55,0],[38,17,38,18,0],[38,19,38,63,0],[38,64,38,65,0],[43,17,43,18,0],[43,19,43,51,0],[43,52,43,53,0],[48,17,48,18,0],[48,19,48,56,0],[48,57,48,58,0],[53,17,53,18,0],[53,19,53,43,0],[53,44,53,45,0],[58,17,58,18,0],[58,19,58,47,0],[58,48,58,49,0],[63,17,63,18,0],[63,19,63,52,0],[63,53,63,54,0],[70,9,71,57,0],[74,39,74,43,0],[74,44,74,48,0],[77,33,77,37,0],[77,38,77,42,0],[80,29,80,33,0],[80,34,80,38,0],[83,40,83,44,0],[83,45,83,49,0],[98,9,98,10,0],[99,13,99,44,0],[100,13,100,14,0],[101,17,101,64,0],[102,13,102,14,0],[103,9,103,10,0],[106,9,106,10,0],[107,13,107,43,0],[108,13,108,14,0],[109,17,109,83,0],[110,13,110,14,0],[111,9,111,10,0],[117,9,118,57,0],[121,44,121,48,0],[121,49,121,53,0],[124,39,124,43,0],[124,44,124,48,0],[139,9,139,10,0],[140,13,140,44,0],[141,13,141,14,0],[142,17,142,64,0],[143,13,143,14,0],[144,9,144,10,0],[147,9,147,10,0],[148,13,148,43,0],[149,13,149,14,0],[150,17,150,83,0],[151,13,151,14,0],[152,9,152,10,0],[158,9,159,57,0],[162,33,162,37,0],[162,38,162,42,0],[165,31,165,35,0],[165,36,165,40,0],[168,32,168,36,0],[168,37,168,41,0],[171,37,171,41,0],[171,42,171,46,0],[174,35,174,39,0],[174,40,174,44,0],[177,33,177,37,0],[177,38,177,42,0],[180,39,180,43,0],[180,44,180,48,0],[183,39,183,43,0],[183,44,183,48,0],[186,40,186,44,0],[186,45,186,49,0],[189,34,189,38,0],[189,39,189,43,0],[204,9,204,10,0],[205,13,205,44,0],[206,13,206,14,0],[207,17,207,64,0],[208,13,208,14,0],[209,9,209,10,0],[212,9,212,10,0],[213,13,213,43,0],[214,13,214,14,0],[215,17,215,83,0],[216,13,216,14,0],[217,9,217,10,0],[223,9,224,57,0],[227,25,227,29,0],[227,30,227,34,0],[230,33,230,37,0],[230,38,230,42,0],[233,35,233,39,0],[233,40,233,44,0],[236,42,236,46,0],[236,47,236,51,0],[239,37,239,41,0],[239,42,239,46,0],[242,30,242,34,0],[242,35,242,39,0],[245,35,245,39,0],[245,40,245,44,0],[248,31,248,35,0],[248,36,248,40,0],[251,31,251,35,0],[251,36,251,40,0],[266,9,266,10,0],[267,13,267,44,0],[268,13,268,14,0],[269,17,269,64,0],[270,13,270,14,0],[271,9,271,10,0],[274,9,274,10,0],[275,13,275,43,0],[276,13,276,14,0],[277,17,277,83,0],[278,13,278,14,0],[279,9,279,10,0],[285,9,286,57,0],[289,25,289,29,0],[289,30,289,34,0],[292,33,292,37,0],[292,38,292,42,0],[295,29,295,33,0],[295,34,295,38,0],[298,35,298,39,0],[298,40,298,44,0],[301,36,301,40,0],[301,41,301,45,0],[304,33,304,37,0],[304,38,304,42,0],[319,9,319,10,0],[320,13,320,44,0],[321,13,321,14,0],[322,17,322,64,0],[323,13,323,14,0],[324,9,324,10,0],[327,9,327,10,0],[328,13,328,43,0],[329,13,329,14,0],[330,17,330,83,0],[331,13,331,14,0],[332,9,332,10,0]]);
    </script>
  </body>
</html>