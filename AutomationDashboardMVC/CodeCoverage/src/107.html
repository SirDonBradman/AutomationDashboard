<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Addon Modules\Contract Manager\Change Order\ConcreateModels\PCOManager.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Aurigo.Brix.Platform.BusinessLayer.AbstractModels;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI.WebControls;
using Aurigo.AMP3.Core.UserControls;
using Aurigo.AMP3.ContractManager.BusinessLayer;
using Aurigo.Brix.Platform.CoreUtilities.Utility;
using Aurigo.AMP3.Core.AbstractModels;

namespace Aurigo.Brix.Construction.AddonModules.ContractManager.ChangeOrderUI.ConcreateModels
{
    public class PCOManager : XMLFormManagerModel
    {
        public override void OnInit(BrixFormModel model, XmlFormArgs e)
        {
            base.OnInit(model, e);

            DropDownList ddlRFI = model.form.GetControl(&quot;RFIID&quot;).ControlReference[0] as DropDownList;
            if (ddlRFI.SelectedValue == &quot;0&quot;)
                (model.form.GetControl(&quot;link&quot;).ControlReference[0] as HyperLink).Visible = false;
        }
    }

    public class PCOListManager : XMLListManagerModel
    {
        public override void CustomizeToolBarMenu(ListModel model, ToolBar toolBar)
        {
            bool isLocked = BL.Instance.GetLockStatus(
                model.xmlModel.form.RequestParameters.ContainsKey(&quot;ParentID&quot;) ?
                model.xmlModel.form.RequestParameters[&quot;ParentID&quot;].ToInt32_2() : 0);
            if (!isLocked &amp;&amp; toolBar.GetMenuReference(&quot;lnkNew&quot;) != null)
            {
                toolBar.DisableMenu(&quot;lnkNew&quot;);
            }
            base.CustomizeToolBarMenu(model, toolBar);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[17,9,17,10,1],[18,13,18,35,1],[20,13,20,102,1],[21,13,21,45,1],[22,17,22,98,1],[23,9,23,10,1],[29,9,29,10,1],[30,13,32,84,1],[33,13,33,73,1],[34,13,34,14,0],[35,17,35,47,0],[36,13,36,14,0],[37,13,37,55,1],[38,9,38,10,1]]);
    </script>
  </body>
</html>