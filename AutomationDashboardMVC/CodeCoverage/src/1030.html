<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\DTO\DocumentAnnotation.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Data;
using Aurigo.Brix.Platform.CoreUtilities.Utility;
using Aurigo.Brix.Platform.BusinessLayer.Utility;

namespace Aurigo.Brix.Platform.BusinessLayer.DTO
{
    public enum AnnotationMode
    {
        Review,
        Consolidate
    }

    /// &lt;summary&gt;
    /// Data Transformation object for document annotations.
    /// &lt;/summary&gt;
    public class DocumentAnnotation
    {
        /// &lt;summary&gt;
        /// DocId of the document.
        /// &lt;/summary&gt;
        public int DocumentID { get; set; }

        /// &lt;summary&gt;
        /// Name of the document.
        /// &lt;/summary&gt;
        public string DocumentName { get; set; }

        /// &lt;summary&gt;
        /// Version number of the document.
        /// &lt;/summary&gt;
        public int VersionNumber { get; set; }

        /// &lt;summary&gt;
        /// XML data of the annotation.
        /// &lt;/summary&gt;
        public string AnnotationData { get; set; }

        /// &lt;summary&gt;
        /// Type of annotation - Review or Consolidate
        /// &lt;/summary&gt;
        public AnnotationMode AnnotationMode { get; set; }

        /// &lt;summary&gt;
        /// UserId of the user who created the annotation.
        /// &lt;/summary&gt;
        public int CreatedBy { get; set; }

        /// &lt;summary&gt;
        /// DateTime when the annotation was created.
        /// &lt;/summary&gt;
        public DateTime CreatedOn { get; set; }

        /// &lt;summary&gt;
        /// Unique identifier for the document annotation.
        /// &lt;/summary&gt;
        public int DocumentAnnotationID { get; set; }

        /// &lt;summary&gt;
        /// Is true when data is populated false otherwise.
        /// &lt;/summary&gt;
        public bool HasValue { get; set; }

        /// &lt;summary&gt;
        /// Constructor
        /// &lt;/summary&gt;
        public DocumentAnnotation()
        {
            HasValue = false;
        }

        /// &lt;summary&gt;
        /// Reads a DataRow and creates a DocumentAnnotation object.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dr&quot;&gt;DataRow object containing annotation details.&lt;/param&gt;
        /// &lt;returns&gt;DocumentAnnotation object&lt;/returns&gt;
        public static DocumentAnnotation FromDataRow(DataRow dr)
        {
            DocumentAnnotation annot = new DocumentAnnotation();

            annot.DocumentAnnotationID = dr[&quot;ID&quot;].ToInt32_2();
            annot.DocumentID = dr[&quot;DocId&quot;].ToInt32_2();
            annot.VersionNumber = dr[&quot;VersionNumber&quot;].ToInt32_2();
            annot.DocumentName = dr[&quot;DocumentName&quot;].ToString();
            annot.AnnotationData = dr[&quot;AnnotationData&quot;].ToString();
            annot.AnnotationMode = dr[&quot;AnnotationType&quot;].ToString() == &quot;Review&quot;
                ? AnnotationMode.Review
                : AnnotationMode.Consolidate;
            annot.CreatedOn = dr[&quot;CreatedOn&quot;].ToDateTime_MWCulture();
            annot.CreatedBy = dr[&quot;CreatedBy&quot;].ToInt32_2();

            annot.HasValue = true;

            return annot;
        }

        /// &lt;summary&gt;
        /// Reads a DataTable and creates a List of DocumentAnnotation object.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dt&quot;&gt;DataTable object containing annotation details.&lt;/param&gt;
        /// &lt;returns&gt;List&lt;DocumentAnnotation&gt;&lt;/returns&gt;
        public static List&lt;DocumentAnnotation&gt; FromDataTable(DataTable dt)
        {
            List&lt;DocumentAnnotation&gt; annotList = new List&lt;DocumentAnnotation&gt;();

            foreach (DataRow dr in dt.Rows)
            {
                DocumentAnnotation annot = new DocumentAnnotation();

                annot.DocumentAnnotationID = dr[&quot;ID&quot;].ToInt32_2();
                annot.DocumentID = dr[&quot;DocId&quot;].ToInt32_2();
                annot.VersionNumber = dr[&quot;VersionNumber&quot;].ToInt32_2();
                annot.DocumentName = dr[&quot;DocumentName&quot;].ToString();
                annot.AnnotationData = dr[&quot;AnnotationData&quot;].ToString();
                annot.AnnotationMode = dr[&quot;AnnotationType&quot;].ToString() == &quot;Review&quot;
                    ? AnnotationMode.Review
                    : AnnotationMode.Consolidate;
                annot.CreatedOn = dr[&quot;CreatedOn&quot;].ToDateTime_MWCulture();
                annot.CreatedBy = dr[&quot;CreatedBy&quot;].ToInt32_2();

                annot.HasValue = true;

                annotList.Add(annot);
            }

            return annotList;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[23,33,23,37,0],[23,38,23,42,0],[28,38,28,42,0],[28,43,28,47,0],[33,36,33,40,0],[33,41,33,45,0],[38,40,38,44,0],[38,45,38,49,0],[43,48,43,52,0],[43,53,43,57,0],[48,32,48,36,0],[48,37,48,41,0],[53,37,53,41,0],[53,42,53,46,0],[58,43,58,47,0],[58,48,58,52,0],[63,32,63,36,0],[63,37,63,41,0],[68,9,68,36,0],[69,9,69,10,0],[70,13,70,30,0],[71,9,71,10,0],[79,9,79,10,0],[80,13,80,65,0],[82,13,82,63,0],[83,13,83,56,0],[84,13,84,67,0],[85,13,85,64,0],[86,13,86,68,0],[87,13,89,46,0],[90,13,90,70,0],[91,13,91,59,0],[93,13,93,35,0],[95,13,95,26,0],[96,9,96,10,0],[104,9,104,10,0],[105,13,105,81,0],[107,13,107,20,0],[107,22,107,32,0],[107,33,107,35,0],[107,36,107,43,0],[108,13,108,14,0],[109,17,109,69,0],[111,17,111,67,0],[112,17,112,60,0],[113,17,113,71,0],[114,17,114,68,0],[115,17,115,72,0],[116,17,118,50,0],[119,17,119,74,0],[120,17,120,63,0],[122,17,122,39,0],[124,17,124,38,0],[125,13,125,14,0],[127,13,127,30,0],[128,9,128,10,0]]);
    </script>
  </body>
</html>