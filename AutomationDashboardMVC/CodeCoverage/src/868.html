<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Business Layer\Utility\BrixUserControlBase.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Aurigo.AMP3.Common;
using Aurigo.Brix.Platform.BusinessLayer.UserControls;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;

namespace Aurigo.Brix.Core.WebUiHelper
{
    public class BrixUserControlBase : System.Web.UI.UserControl
    {
        public bool IsBrixPageBase
        {
            get
            {
                return (this.Page is BrixPageBase);
            }
        }

        public BrixPageBase PageBase
        {
            get
            {
                return IsBrixPageBase ? (this.Page as BrixPageBase) : null;
            }
        }

        private UIScriptHelper _ScriptHelper = new UIScriptHelper();
        public UIScriptHelper ScriptHelper
        {
            get
            {
                if (IsBrixPageBase) _ScriptHelper = PageBase.ScriptHelper;
                return _ScriptHelper;
            }
        }

        public ToastrNotification Notifier
        {
            get
            {
                //TODO: if not master page then create notification control
                return IsBrixPageBase ? PageBase.Notifier : null;
            }
        }

        private void ShowNotificationMessage(string message, NotificationType type)
        {
            Notifier?.Notifications.Add(new NotificationMessage(message, type));
        }

        protected void ShowSuccess(string message)
        {
            ShowNotificationMessage(message, NotificationType.Success);
        }

        protected void ShowWarning(string message)
        {
            ShowNotificationMessage(message, NotificationType.Warning);
        }

        protected void ShowError(string message)
        {
            ShowNotificationMessage(message, NotificationType.Error);
        }

        protected void ShowInfo(string message)
        {
            ShowNotificationMessage(message, NotificationType.Info);
        }

        protected void RegisterStartupScript(string script, System.Web.UI.Control registerForControl = null, string key = &quot;&quot;, string targetKey = &quot;&quot;, bool afterTarget = false)
        {
            key = string.IsNullOrEmpty(key) ? Guid.NewGuid().ToString() : key;
            if (!string.IsNullOrEmpty(targetKey))
            {
                if (afterTarget)
                    ScriptHelper.AddStartUpScriptAfterTarget(registerForControl, key, script, targetKey);
                else
                    ScriptHelper.AddStartUpScriptBeforeTarget(registerForControl, key, script, targetKey);
                return;
            }
            ScriptHelper.AddStartUpScript(registerForControl, key, script);
        }

        protected void RegisterClientScriptBlock(string script, System.Web.UI.Control registerForControl = null, string key = &quot;&quot;, string targetKey = &quot;&quot;, bool afterTarget = false)
        {
            key = string.IsNullOrEmpty(key) ? Guid.NewGuid().ToString() : key;
            if (!string.IsNullOrEmpty(targetKey))
            {
                if (afterTarget)
                    ScriptHelper.AddScriptAfterTarget(registerForControl, key, script, targetKey);
                else
                    ScriptHelper.AddScriptBeforeTarget(registerForControl, key, script, targetKey);
                return;
            }
            ScriptHelper.AddScript(registerForControl, key, script);
        }

        protected void RegisterClientScriptInclude(string script, System.Web.UI.Control registerForControl = null, string key = &quot;&quot;, string targetKey = &quot;&quot;, bool afterTarget = false)
        {
            key = string.IsNullOrEmpty(key) ? Guid.NewGuid().ToString() : key;
            if (!string.IsNullOrEmpty(targetKey))
            {
                if (afterTarget)
                    ScriptHelper.AddScriptFileAfterTarget(registerForControl, key, script, targetKey);
                else
                    ScriptHelper.AddScriptFileBeforeTarget(registerForControl, key, script, targetKey);
                return;
            }
            ScriptHelper.AddScriptFile(registerForControl, key, script);
        }

        protected void RegisterStyle(string styleFile)
        {
            ScriptHelper.AddStyleFile(Guid.NewGuid().ToString(), styleFile);
        }

        public virtual void InclueScriptAndStyleFiles()
        {

        }

        protected override void OnLoad(EventArgs e)
        {
            base.OnLoad(e);
            InclueScriptAndStyleFiles();
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,13,16,14,1],[17,17,17,52,1],[18,13,18,14,1],[24,13,24,14,1],[25,17,25,76,1],[26,13,26,14,1],[29,9,29,69,1],[33,13,33,14,1],[34,17,34,36,1],[34,37,34,75,1],[35,17,35,38,1],[36,13,36,14,1],[42,13,42,14,1],[44,17,44,66,1],[45,13,45,14,1],[49,9,49,10,1],[50,13,50,81,1],[51,9,51,10,1],[54,9,54,10,1],[55,13,55,72,1],[56,9,56,10,1],[59,9,59,10,0],[60,13,60,72,0],[61,9,61,10,0],[64,9,64,10,1],[65,13,65,70,1],[66,9,66,10,1],[69,9,69,10,0],[70,13,70,69,0],[71,9,71,10,0],[74,9,74,10,1],[75,13,75,79,1],[76,13,76,50,1],[77,13,77,14,0],[78,17,78,33,0],[79,21,79,106,0],[81,21,81,107,0],[82,17,82,24,0],[84,13,84,76,1],[85,9,85,10,1],[88,9,88,10,1],[89,13,89,79,1],[90,13,90,50,1],[91,13,91,14,0],[92,17,92,33,0],[93,21,93,99,0],[95,21,95,100,0],[96,17,96,24,0],[98,13,98,69,1],[99,9,99,10,1],[102,9,102,10,1],[103,13,103,79,1],[104,13,104,50,1],[105,13,105,14,0],[106,17,106,33,0],[107,21,107,103,0],[109,21,109,104,0],[110,17,110,24,0],[112,13,112,73,1],[113,9,113,10,1],[116,9,116,10,1],[117,13,117,77,1],[118,9,118,10,1],[121,9,121,10,1],[123,9,123,10,1],[126,9,126,10,1],[127,13,127,28,1],[128,13,128,41,1],[129,9,129,10,1]]);
    </script>
  </body>
</html>