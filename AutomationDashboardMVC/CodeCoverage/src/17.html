<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Construction Vertical\Main Modules\Budget Manager\Business Layer\ConcreateModels\BudgetTemplateListModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using Aurigo.AMP3.Core.AbstractModels;
using Aurigo.AMP3.Common;
using Aurigo.Brix.Core.WebUiHelper;
using Aurigo.AMP3.Core.UserControls;
using System.Globalization;
using System.Data;
using Aurigo.AMP3.DataAccess.Core;
using Aurigo.Brix.Platform.CoreUtilities.Utility;
using Aurigo.Brix.Platform.BusinessLayer.DataAccessHelper;
using Aurigo.Brix.Construction.BudgetManager.BusinessLayer.BL;
using Aurigo.AMP3.ModuleManagementBL;
using Aurigo.AMP3.Core.BusinessLayer.BL;
using Aurigo.Brix.Platform.BusinessLayer.BL;
using Aurigo.Brix.Platform.BusinessLayer.AbstractModels;
namespace Aurigo.Brix.Construction.BudgetManager.BusinessLayer.ConcreateModels
{
    [ItemListModelContext(Name = &quot;BDGTEMP&quot;)]
    [ContextElement(Name = &quot;Budget Template Item List&quot;)]

    public class BudgetTemplateListModel : XMLListManagerModel
    {
        
        public override void HandleMenuItem(string eventString, string selectedIds, ListModel model, XmlFormArgs e)
        {
            switch (eventString)
            {
                case &quot;Items&quot;:
                    int noOfID=0;
                    if(selectedIds!=&quot;&quot;)
                    noOfID = selectedIds.Split(&quot;,&quot;.ToCharArray()).Count();
                    if (noOfID!=1)
                    {
                        throw new Exception(&quot;Please select one record.&quot;);
                    }
                    else
                    {
                        model.Response.Redirect(string.Format(&quot;BrixItemListPage.aspx?Context=BDGTEMP&amp;ParentID={0}&amp;PID=0&quot;, selectedIds));
                    }

                    break;

                default:
                    base.HandleMenuItem(eventString, selectedIds, model, e);
                    break;
            }
        }
        
        
       
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[28,9,28,10,1],[29,13,29,33,1],[32,21,32,34,1],[33,21,33,40,1],[34,21,34,75,1],[35,21,35,35,1],[36,21,36,22,0],[37,25,37,74,0],[40,21,40,22,1],[41,25,41,137,1],[42,21,42,22,0],[44,21,44,27,0],[47,21,47,77,1],[48,21,48,27,1],[50,9,50,10,1]]);
    </script>
  </body>
</html>