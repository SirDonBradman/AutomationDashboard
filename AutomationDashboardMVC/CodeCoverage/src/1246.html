<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Masterworks\MasterworksRelease\.Net\Platform\Platform UI\Modules\USRMGMT\UserWebPart.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.ComponentModel;
using System.Data;
using System.Web.UI;
using System.Web.UI.WebControls.WebParts;
using Aurigo.AMP3.UserManagementBL;
using Aurigo.Brix.Platform.CoreUtilities.Utility;

namespace Aurigo.AMP3.UserManagementUI
{
    [DefaultProperty(&quot;Text&quot;)]
    [ToolboxData(&quot;&lt;{0}:UserWebPart runat=server&gt;&lt;/{0}:UserWebPart&gt;&quot;)]
    public class UserWebPart : WebPart
    {
        // Constructor
        public UserWebPart()
        {
            Title = &quot;User Summary&quot;;
        }

        [WebBrowsable]
        [Personalizable]
        public string Text
        {
            get
            {
                var s = (String)ViewState[&quot;Text&quot;];
                return ((s == null) ? String.Empty : s);
            }

            set { ViewState[&quot;Text&quot;] = value; }
        }

        protected override void RenderContents(HtmlTextWriter output)
        {
            DataTable dt = UserManager.Instance.GetUserSummary();

            string display = &quot;&lt;table style=&#39;width:150px;&#39;&gt;&quot;;

            foreach (DataRow dr in dt.Rows)
            {
                display += &quot;&lt;tr&gt;&lt;td style=&#39;font-size:11px;font-weight:bold;&#39;&gt;&lt;b&gt;&quot;;
                display += dr[&quot;Summary&quot;].ToString2();
                display += &quot;&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;td style=&#39;font-size:11px;&#39;&gt;&quot;;
                display += dr[&quot;TotalCount&quot;].ToString2();
                display += &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;
            }
            display += &quot;&lt;/table&gt;&quot;;

            output.Write(display);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,9,16,29,0],[17,9,17,10,0],[18,13,18,36,0],[19,9,19,10,0],[26,13,26,14,0],[27,17,27,51,0],[28,17,28,57,0],[29,13,29,14,0],[31,17,31,18,0],[31,19,31,45,0],[31,46,31,47,0],[35,9,35,10,0],[36,13,36,66,0],[38,13,38,61,0],[40,13,40,20,0],[40,22,40,32,0],[40,33,40,35,0],[40,36,40,43,0],[41,13,41,14,0],[42,17,42,83,0],[43,17,43,54,0],[44,17,44,72,0],[45,17,45,57,0],[46,17,46,41,0],[47,13,47,14,0],[48,13,48,35,0],[50,13,50,35,0],[51,9,51,10,0]]);
    </script>
  </body>
</html>